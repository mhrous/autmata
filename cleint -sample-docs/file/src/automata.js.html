<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/automata.js | client</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/automata.js~Automata.html">Automata</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/node.js~Node.html">Node</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/automata.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * Automata class
 */
export default class Automata {
  constructor() {
    /** @type {&#x650;Array of Node Which reflect the cases of the Automata} */
    this.nodes = [];
    /** @type {Start state } */
    this.start = null;
    /** @type {Array of Chars Which reflect the Automata alphabet} */
    this.alphabet = [];
  }

  /**
   *
   * @param {Array of Node} nodes
   */
  addNode(nodes) {
    this.nodes = [...nodes];
  }

  /**
   * @param {The text we want to test by Automata } str
   * @return {The state in which the automata ends when the text is tested}
   */
  getEnd(str) {
    let node = this.start;
    const state = document.getElementById(&quot;state&quot;);
    const char = document.getElementById(&quot;char&quot;);
    const index = document.getElementById(&quot;index&quot;);
    let arrayOfStateNode = [node];

    for (let i = 0; i &lt; str.length; i++) {
      node = node.getPossition(str[i]);
      arrayOfStateNode.push(node);
      node.color = {
        background: &quot;#ffcb2f&quot;
      };
      this.nodes.update(node);
      state.innerHTML = node.label;
      char.innerHTML = str[i];
      index.innerHTML = i;
      if (!node) {
        break;
      }
    }
    if (node.end) {
      this.trueString(arrayOfStateNode);
    } else {
      this.falseString(arrayOfStateNode);
    }
    return node ? node : this.deathNode;
  }

  /**
   *
   * @param {Comes from the server to build the automata } json
   */
  buildFromJson(json) {
    this.alphabet = json.alphabetObj;
    let fileNode = json.nodes;
    for (let i = 0; i &lt; fileNode.length; i++) {
      let node = fileNode[i];
      let buildNode = new Node(node.label, node.start, node.end);
      this.nodes.push(buildNode);
      if (node.start == true) {
        this.start = buildNode;
      }
    }
    let filledge = json.edges;

    for (let i = 0; i &lt; filledge.length; i++) {
      let fromEdge = null;
      let toEdge = null;
      for (let j = 0; j &lt; this.nodes.length; j++) {
        if (this.nodes[j].label == filledge[i].from) {
          fromEdge = this.nodes[j];
        }
        if (this.nodes[j].label == filledge[i].to) {
          toEdge = this.nodes[j];
        }
      }

      fromEdge.addEdge(filledge[i].state, toEdge);
    }
  }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
